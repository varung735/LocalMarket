"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _user = _interopRequireDefault(require("./user.model"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var _default = {
  createUser(req, res) {
    let {
      firstName,
      lastName,
      email,
      role,
      password
    } = req.body;

    _user.default.create({
      firstName,
      lastName,
      email,
      role,
      password
    }).then(user => res.json(user)).catch(err => res.status(500).json(err));
  },

  findAllUsers(req, res) {
    _user.default.find().then(users => res.json(users)).catch(err => res.status(404).json(err));
  },

  deleteUser(req, res) {
    const id = req.params.id;

    _user.default.findByIdAndRemove(id).then(user => {
      if (!user) {
        return res.status(400).json({
          err: "user not found."
        });
      }

      return res.json(user);
    }).catch(err => res.status(500).json(err));
  }

};
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL3NyYy9hcGkvUmVzb3VyY2VzL3VzZXIvdXNlci5jb250cm9sbGVyLmpzIl0sIm5hbWVzIjpbImNyZWF0ZVVzZXIiLCJyZXEiLCJyZXMiLCJmaXJzdE5hbWUiLCJsYXN0TmFtZSIsImVtYWlsIiwicm9sZSIsInBhc3N3b3JkIiwiYm9keSIsIlVzZXIiLCJjcmVhdGUiLCJ0aGVuIiwidXNlciIsImpzb24iLCJjYXRjaCIsImVyciIsInN0YXR1cyIsImZpbmRBbGxVc2VycyIsImZpbmQiLCJ1c2VycyIsImRlbGV0ZVVzZXIiLCJpZCIsInBhcmFtcyIsImZpbmRCeUlkQW5kUmVtb3ZlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7Ozs7ZUFFYztBQUNWQSxFQUFBQSxVQUFVLENBQUNDLEdBQUQsRUFBS0MsR0FBTCxFQUFTO0FBQ2YsUUFBSTtBQUFDQyxNQUFBQSxTQUFEO0FBQVlDLE1BQUFBLFFBQVo7QUFBc0JDLE1BQUFBLEtBQXRCO0FBQTZCQyxNQUFBQSxJQUE3QjtBQUFtQ0MsTUFBQUE7QUFBbkMsUUFBK0NOLEdBQUcsQ0FBQ08sSUFBdkQ7O0FBRUFDLGtCQUFLQyxNQUFMLENBQVk7QUFBQ1AsTUFBQUEsU0FBRDtBQUFZQyxNQUFBQSxRQUFaO0FBQXNCQyxNQUFBQSxLQUF0QjtBQUE2QkMsTUFBQUEsSUFBN0I7QUFBbUNDLE1BQUFBO0FBQW5DLEtBQVosRUFBMERJLElBQTFELENBQStEQyxJQUFJLElBQUlWLEdBQUcsQ0FBQ1csSUFBSixDQUFTRCxJQUFULENBQXZFLEVBQ0NFLEtBREQsQ0FDT0MsR0FBRyxJQUFJYixHQUFHLENBQUNjLE1BQUosQ0FBVyxHQUFYLEVBQWdCSCxJQUFoQixDQUFxQkUsR0FBckIsQ0FEZDtBQUVILEdBTlM7O0FBUVZFLEVBQUFBLFlBQVksQ0FBQ2hCLEdBQUQsRUFBS0MsR0FBTCxFQUFTO0FBQ2pCTyxrQkFBS1MsSUFBTCxHQUFZUCxJQUFaLENBQWlCUSxLQUFLLElBQUlqQixHQUFHLENBQUNXLElBQUosQ0FBU00sS0FBVCxDQUExQixFQUEyQ0wsS0FBM0MsQ0FBaURDLEdBQUcsSUFBSWIsR0FBRyxDQUFDYyxNQUFKLENBQVcsR0FBWCxFQUFnQkgsSUFBaEIsQ0FBcUJFLEdBQXJCLENBQXhEO0FBQ0gsR0FWUzs7QUFZVkssRUFBQUEsVUFBVSxDQUFDbkIsR0FBRCxFQUFLQyxHQUFMLEVBQVM7QUFDZixVQUFNbUIsRUFBRSxHQUFHcEIsR0FBRyxDQUFDcUIsTUFBSixDQUFXRCxFQUF0Qjs7QUFDQVosa0JBQUtjLGlCQUFMLENBQXVCRixFQUF2QixFQUEyQlYsSUFBM0IsQ0FBZ0NDLElBQUksSUFBSTtBQUNwQyxVQUFHLENBQUNBLElBQUosRUFBUztBQUNMLGVBQU9WLEdBQUcsQ0FBQ2MsTUFBSixDQUFXLEdBQVgsRUFBZ0JILElBQWhCLENBQXFCO0FBQUNFLFVBQUFBLEdBQUcsRUFBRTtBQUFOLFNBQXJCLENBQVA7QUFDSDs7QUFDRCxhQUFPYixHQUFHLENBQUNXLElBQUosQ0FBU0QsSUFBVCxDQUFQO0FBQ0gsS0FMRCxFQUtHRSxLQUxILENBS1NDLEdBQUcsSUFBSWIsR0FBRyxDQUFDYyxNQUFKLENBQVcsR0FBWCxFQUFnQkgsSUFBaEIsQ0FBcUJFLEdBQXJCLENBTGhCO0FBTUg7O0FBcEJTLEMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVXNlciBmcm9tICcuL3VzZXIubW9kZWwnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHR7XHJcbiAgICBjcmVhdGVVc2VyKHJlcSxyZXMpe1xyXG4gICAgICAgIGxldCB7Zmlyc3ROYW1lLCBsYXN0TmFtZSwgZW1haWwsIHJvbGUsIHBhc3N3b3JkfSA9IHJlcS5ib2R5O1xyXG5cclxuICAgICAgICBVc2VyLmNyZWF0ZSh7Zmlyc3ROYW1lLCBsYXN0TmFtZSwgZW1haWwsIHJvbGUsIHBhc3N3b3JkfSkudGhlbih1c2VyID0+IHJlcy5qc29uKHVzZXIpKVxyXG4gICAgICAgIC5jYXRjaChlcnIgPT4gcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKSk7XHJcbiAgICB9LFxyXG5cclxuICAgIGZpbmRBbGxVc2VycyhyZXEscmVzKXtcclxuICAgICAgICBVc2VyLmZpbmQoKS50aGVuKHVzZXJzID0+IHJlcy5qc29uKHVzZXJzKSkuY2F0Y2goZXJyID0+IHJlcy5zdGF0dXMoNDA0KS5qc29uKGVycikpO1xyXG4gICAgfSxcclxuXHJcbiAgICBkZWxldGVVc2VyKHJlcSxyZXMpe1xyXG4gICAgICAgIGNvbnN0IGlkID0gcmVxLnBhcmFtcy5pZDtcclxuICAgICAgICBVc2VyLmZpbmRCeUlkQW5kUmVtb3ZlKGlkKS50aGVuKHVzZXIgPT4ge1xyXG4gICAgICAgICAgICBpZighdXNlcil7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oe2VycjogXCJ1c2VyIG5vdCBmb3VuZC5cIn0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuanNvbih1c2VyKTtcclxuICAgICAgICB9KS5jYXRjaChlcnIgPT4gcmVzLnN0YXR1cyg1MDApLmpzb24oZXJyKSk7IFxyXG4gICAgfVxyXG59Il19